<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.13.1/themes/base/jquery-ui.css">

    <title>{% block title %}{% endblock %}</title>
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
</head>

<body>
    <!-- NAVBAR -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary mb-4 px-4">
        <div class="container-fluid">
            <a class="navbar-brand" href="/">Encounter Builder</a>
            <div class="navbar-nav justify-content-end">
                {% if not g.user %}
                <a class="nav-link" href="/signup">sign up</a>
                <a class="nav-link" href="/login">log in</a>
                {% else %}
                <a class="nav-link" href="/users/{{g.user.id}}">{{g.user.username}}</a>
                <a class="nav-link" href="/logout">log out</a>
                {% endif %}
            </div>
        </div>
    </nav>

    <!-- PAGE CONTENT -->

    <div class="container-fluid px-4">
    <!-- <div class="container"> -->

        <!-- FLASH MESSAGES VIA BOOTSTRAP "TOAST"-->
        <div aria-live="polite" aria-atomic="true" class="position-relative">
            <!-- Positioning -->
            <div class="toast-container start-50 translate-middle-x p-3">

                <!-- Toasts appear within toast-container -->
                {% for category, message in get_flashed_messages(with_categories=True) %}

                <div class="toast align-items-center text-bg-{{category}} bg-opacity-85 border-0" role="alert"
                    aria-live="assertive" aria-atomic="true">
                    <div class="d-flex">
                        <div class="toast-body">
                            {{message}}
                        </div>
                        <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"
                            aria-label="Close"></button>
                    </div>
                </div>

                {% endfor %}

            </div>
        </div>

        <!-- PAGE CONTENT -->
        {% block content %}
        {% endblock %}

    </div>

    <!-- SCRIPTS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.2/axios.min.js"
        integrity="sha256-T/f7Sju1ZfNNfBh7skWn0idlCBcI3RwdLSS4/I7NQKQ=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
        crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/b2afdf776c.js" crossorigin="anonymous"></script>

    <script src="static/app.js"></script>
</body>

</html>